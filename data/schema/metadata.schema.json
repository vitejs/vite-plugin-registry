{
  "type": "object",
  "properties": {
    "schemaVersion": {
      "const": 1,
      "description": "Schema version for forward compatibility"
    },
    "compatibility": {
      "type": "object",
      "properties": {
        "vite": {
          "$ref": "#/$defs/ToolCompatibilitySchema"
        },
        "rollup": {
          "$ref": "#/$defs/ToolCompatibilitySchema"
        },
        "rolldown": {
          "$ref": "#/$defs/ToolCompatibilitySchema"
        }
      },
      "required": [],
      "description": "Overall compatibility declarations"
    }
  },
  "required": ["schemaVersion"],
  "description": "Schema for custom plugin metadata hosted at the URL specified in the vite-plugin-registry field of package.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$defs": {
    "ToolCompatibilitySchema": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "type": {
              "const": "compatible"
            },
            "versions": {
              "type": "string",
              "description": "Semver range of compatible versions"
            },
            "note": {
              "type": "string",
              "description": "Optional note providing additional context about compatibility"
            }
          },
          "required": ["type", "versions"]
        },
        {
          "type": "object",
          "properties": {
            "type": {
              "const": "incompatible"
            },
            "reason": {
              "type": "string",
              "description": "Human-readable explanation of why the plugin is incompatible"
            }
          },
          "required": ["type", "reason"]
        },
        {
          "type": "object",
          "properties": {
            "type": {
              "const": "unknown"
            }
          },
          "required": ["type"]
        }
      ]
    }
  },
  "$id": "https://raw.githubusercontent.com/vitejs/vite-plugin-registry/refs/heads/main/data/schema/metadata.schema.json",
  "title": "Vite Plugin Registry Metadata"
}
